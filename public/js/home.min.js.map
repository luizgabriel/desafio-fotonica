{"version":3,"sources":["Calculator.coffee","home.coffee"],"names":[],"mappings":"AAAA;EAAM,IAAC,CAAA;;;yBAEL,SAAA,GAAW,SAAC,MAAD,EAAS,QAAT,EAAmB,QAAnB;MACT,QAAA,GAAW,UAAA,CAAW,QAAX;MACX,QAAA,GAAW,UAAA,CAAW,QAAX;MACX,IAAG,MAAA,KAAU,GAAb;eAAsB,IAAC,CAAA,GAAD,CAAK,QAAL,EAAe,QAAf,EAAtB;OAAA,MACK,IAAG,MAAA,KAAU,GAAb;eAAsB,IAAC,CAAA,GAAD,CAAK,QAAL,EAAe,QAAf,EAAtB;OAAA,MACA,IAAG,MAAA,KAAU,GAAb;eAAsB,IAAC,CAAA,GAAD,CAAK,QAAL,EAAe,QAAf,EAAtB;OAAA,MACA,IAAG,MAAA,KAAU,GAAb;eAAsB,IAAC,CAAA,GAAD,CAAK,QAAL,EAAe,QAAf,EAAtB;;IANI;;yBAQX,GAAA,GAAK,SAAC,QAAD,EAAW,QAAX;aAAwB,QAAA,GAAW;IAAnC;;yBACL,GAAA,GAAK,SAAC,QAAD,EAAW,QAAX;aAAwB,QAAA,GAAW;IAAnC;;yBACL,GAAA,GAAK,SAAC,QAAD,EAAW,QAAX;aAAwB,QAAA,GAAW;IAAnC;;yBACL,GAAA,GAAK,SAAC,QAAD,EAAW,QAAX;aAAwB,QAAA,GAAW;IAAnC;;;;;AAbP;;;ACGA;AAAA,MAAA;;EAAA,cAAA,GAAiB,CAAA,CAAE,oBAAF;;EACjB,UAAA,GAAiB,IAAA,UAAA,CAAA;;EACjB,QAAA,GAAW;;EACX,SAAA,GAAY;;EAEZ,mBAAA,GAAsB,SAAC,IAAD;AACpB,QAAA;IAAA,OAAA,GAAU,cAAc,CAAC,IAAf,CAAA;IACV,SAAA,GAAY,OAAQ,CAAA,CAAA;IACpB,MAAA,GAAS,OAAO,CAAC,OAAR,CAAgB,GAAhB,CAAA,IAAwB;IACjC,IAAG,SAAA,KAAa,GAAb,IAAqB,CAAI,MAAzB,IAAoC,IAAA,KAAQ,GAA/C;aACE,cAAc,CAAC,IAAf,CAAoB,OAAO,CAAC,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CAAA,GAAuB,IAA3C,EADF;KAAA,MAEK,IAAG,CAAI,CAAC,MAAA,IAAW,IAAA,KAAQ,GAApB,CAAP;aACH,cAAc,CAAC,MAAf,CAAsB,IAAtB,EADG;;EANe;;EAStB,aAAA,GAAgB,SAAC,MAAD;AACd,QAAA;IAAA,OAAA,GAAU,cAAc,CAAC,IAAf,CAAA;IACV,IAAG,CAAI,KAAA,CAAM,QAAA,CAAS,MAAT,CAAN,CAAP;aACE,mBAAA,CAAoB,MAApB,EADF;KAAA,MAEK,IAAG,MAAA,KAAU,GAAb;aACH,mBAAA,CAAoB,MAApB,EADG;KAAA,MAEA,IAAG,MAAA,KAAU,WAAb;MACH,IAAI,OAAO,CAAC,MAAR,KAAkB,CAAtB;eACE,cAAc,CAAC,IAAf,CAAoB,CAApB,EADF;OAAA,MAAA;eAGE,cAAc,CAAC,IAAf,CAAoB,OAAO,CAAC,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CAApB,EAHF;OADG;KAAA,MAKA,IAAG,MAAA,KAAU,OAAb;aACH,cAAc,CAAC,IAAf,CAAoB,GAApB,EADG;KAAA,MAEA,IAAG,MAAA,KAAU,GAAb;MACH,cAAc,CAAC,IAAf,CAAoB,UAAU,CAAC,SAAX,CAAqB,SAArB,EAAgC,QAAhC,EAA0C,OAA1C,CAApB;aACA,OAAO,CAAC,GAAR,CAAY,QAAZ,EAAsB,SAAtB,EAAiC,UAAA,CAAW,OAAX,CAAjC,EAAsD,GAAtD,EAA2D,UAAA,CAAW,cAAc,CAAC,IAAf,CAAA,CAAX,CAA3D,EAFG;KAAA,MAAA;MAIH,SAAA,GAAY;MACZ,QAAA,GAAW,UAAA,CAAW,OAAX;aACX,aAAA,CAAc,OAAd,EANG;;EAbS;;EAqBhB,CAAA,CAAE,kBAAF,CAAqB,CAAC,KAAtB,CAA4B,SAAA;AAC1B,QAAA;IAAA,MAAA,GAAS,CAAA,CAAE,IAAF,CAAO,CAAC,IAAR,CAAA;IACT,IAAG,CAAC,8BAAD,CAAH;MACE,MAAA,GAAS,CAAA,CAAE,IAAF,CAAO,CAAC,IAAR,CAAa,QAAb,EADX;;WAEA,aAAA,CAAc,MAAd;EAJ0B,CAA5B;;EAUA,UAAA,GAAa,CAAA,CAAE,0BAAF;;EACb,UAAA,GAAa,CAAA,CAAE,gBAAF;;EACb,IAAA,GAAO;;EAEP,UAAU,CAAC,MAAX,CAAkB,SAAA;AAChB,QAAA;IAAA,MAAA,GAAY,CAAA,CAAE,IAAF,CAAO,CAAC,IAAR,CAAa,SAAb,CAAH,GAAgC,CAAhC,GAAuC;IAChD,CAAC,CAAC,IAAF,CAAO,eAAP,EAAwB;MAAC,OAAA,EAAS,KAAV;MAAiB,MAAA,EAAQ,KAAzB;MAAgC,uBAAA,EAAyB,MAAzD;KAAxB,CACA,CAAC,IADD,CACM,SAAC,MAAD;MACJ,IAAG,MAAM,CAAC,uBAAP,KAAkC,CAArC;eAA4C,UAAA,CAAW,yBAAX,EAA5C;OAAA,MACK,IAAG,MAAM,CAAC,uBAAP,KAAkC,CAArC;eAA4C,UAAA,CAAW,uBAAX,EAA5C;OAAA,MAAA;eACA,OAAO,CAAC,GAAR,CAAY,MAAZ,EADA;;IAFD,CADN;IAMA,IAAG,MAAA,KAAU,CAAb;aAAoB,UAAA,CAAW,wBAAX,EAApB;KAAA,MACK,IAAG,MAAA,KAAU,CAAb;aAAoB,UAAA,CAAW,sBAAX,EAApB;;EATW,CAAlB;;EAWA,YAAA,GAAe,SAAA;WACb,UAAU,CAAC,IAAX,CAAgB,EAAhB;EADa;;EAGf,UAAA,GAAa,SAAC,OAAD;IACX,UAAU,CAAC,IAAX,CAAgB,IAAhB,CAAqB,CAAC,WAAtB,CAAkC,SAAlC;WACA,UAAU,CAAC,MAAX,CAAkB,wBAAA,GAAyB,OAAzB,GAAiC,OAAnD;EAFW;;EAIb,KAAA,GAAQ,CAAA,CAAE,QAAF;;EACR,cAAA,GAAiB,SAAA;AACf,QAAA;IAAA,OAAA,GAAU,QAAA,CAAS,KAAK,CAAC,IAAN,CAAA,CAAT;WACV,KAAK,CAAC,IAAN,CAAW,OAAA,GAAU,CAArB;EAFe;;EAIjB,MAAA,GAAa,IAAA,MAAA,CAAO,sBAAP,EAA+B;IAAA,SAAA,EAAW,IAAX;GAA/B;;EACb,OAAA,GAAU,MAAM,CAAC,SAAP,CAAiB,eAAjB;;EACV,OAAO,CAAC,IAAR,CAAa,qCAAb,EAAoD,SAAC,IAAD;AAClD,QAAA;IAAA,IAAG,CAAI,IAAP;MACE,IAAA,GAAO;MACP,YAAA,CAAA;MACA,UAAA,CAAW,eAAX,EAHF;;IAIA,IAAA,GAAW,IAAA,IAAA,CAAA,CAAM,CAAC,kBAAP,CAA0B,OAA1B,EAAmC;MAC5C,MAAA,EAAQ,KADoC;MAE5C,IAAA,EAAM,SAFsC;MAG5C,MAAA,EAAQ,SAHoC;KAAnC;IAIX,cAAA,CAAA;WACA,UAAA,CAAW,iBAAA,GAAkB,IAAI,CAAC,MAAM,CAAC,KAA9B,GAAoC,QAApC,GAA4C,IAAvD;EAVkD,CAApD;AA1EA","file":"home.min.js","sourcesContent":["class @Calculator\r\n\r\n  calculate: (opcode, operand1, operand2) ->\r\n    operand1 = parseFloat(operand1)\r\n    operand2 = parseFloat(operand2)\r\n    if opcode == '+' then @sum operand1, operand2\r\n    else if opcode == '-' then @sub operand1, operand2\r\n    else if opcode == '*' then @mul operand1, operand2\r\n    else if opcode == '/' then @div operand1, operand2\r\n\r\n  sum: (operand1, operand2) -> operand1 + operand2\r\n  sub: (operand1, operand2) -> operand1 - operand2\r\n  mul: (operand1, operand2) -> operand1 * operand2\r\n  div: (operand1, operand2) -> operand1 / operand2\r\n","#\r\n# Calculator functions\r\n#\r\ncalculator_out = $('.calculator-output')\r\ncalculator = new Calculator()\r\noperand1 = 0\r\noperation = '+'\r\n\r\nappendCalculatorOut = (char) ->\r\n  current = calculator_out.html()\r\n  firstChar = current[0]\r\n  hasDot = current.indexOf('.') >= 0\r\n  if firstChar == '0' and not hasDot and char != '.'\r\n    calculator_out.html current.slice(0, -1) + char\r\n  else if not (hasDot and char == '.')\r\n    calculator_out.append char\r\n\r\nprocessAction = (opcode) ->\r\n  current = calculator_out.html()\r\n  if not isNaN(parseInt(opcode))\r\n    appendCalculatorOut(opcode)\r\n  else if opcode == '.'\r\n    appendCalculatorOut(opcode)\r\n  else if opcode == 'backspace'\r\n    if (current.length == 1)\r\n      calculator_out.html(0)\r\n    else\r\n      calculator_out.html(current.slice(0, -1))\r\n  else if opcode == 'clear'\r\n    calculator_out.html(\"0\")\r\n  else if opcode == '='\r\n    calculator_out.html(calculator.calculate(operation, operand1, current))\r\n    console.log operand1, operation, parseFloat(current), '=', parseFloat(calculator_out.html())\r\n  else\r\n    operation = opcode\r\n    operand1 = parseFloat(current)\r\n    processAction('clear')\r\n\r\n$('.calculator .btn').click ->\r\n  opcode = $(this).html()\r\n  if ($(this).data('action')?)\r\n    opcode = $(this).data('action')\r\n  processAction(opcode)\r\n\r\n\r\n#\r\n# Number Generator\r\n#\r\ntoogle_btn = $('#toogle-random-generator')\r\nnumber_out = $('#random-output')\r\nsync = false\r\n\r\ntoogle_btn.change () ->\r\n  status = if $(this).prop('checked') then 1 else 0\r\n  $.post('/api/server/1', {_method: 'put', _token: TOKEN, number_generator_status: status})\r\n  .done (config) ->\r\n    if config.number_generator_status == 1 then consoleOut('O serviço foi iniciado.')\r\n    else if config.number_generator_status == 0 then consoleOut('O serviço foi parado.')\r\n    else console.log config\r\n\r\n  if status == 1 then consoleOut('Iniciando o serviço...')\r\n  else if status == 0 then consoleOut('Parando o serviço...')\r\n\r\nconsoleClear = () ->\r\n  number_out.html(\"\")\r\n\r\nconsoleOut = (message) ->\r\n  number_out.find('li').removeClass('current')\r\n  number_out.append(\"<li class=\\\"current\\\">#{message}</li>\")\r\n\r\ntotal = $('#total')\r\nincrementTotal = () ->\r\n  current = parseInt(total.html())\r\n  total.html(current + 1)\r\n\r\npusher = new Pusher 'dc62f2019de851ad9f1b', encrypted: true\r\nchannel = pusher.subscribe('number.create')\r\nchannel.bind 'Fotonica\\\\Events\\\\CreateNumberEvent', (data) ->\r\n  if not sync\r\n    sync = true\r\n    consoleClear()\r\n    consoleOut('Sincronizado!')\r\n  date = new Date().toLocaleDateString(\"pt-BR\", {\r\n    hour12: false,\r\n    hour: \"numeric\",\r\n    minute: \"numeric\"})\r\n  incrementTotal()\r\n  consoleOut(\"Número gerado: #{data.number.value} | em #{date}\")\r\n"],"sourceRoot":"/source/"}